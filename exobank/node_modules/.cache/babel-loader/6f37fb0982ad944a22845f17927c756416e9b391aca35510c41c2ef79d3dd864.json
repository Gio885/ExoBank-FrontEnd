{"ast":null,"code":"import axios from \"axios\";\nimport { ULR_INSERT_TRANSAZIONE, ULR__FIND_CONTO_UTENTE, URL_DOWNLOAD_LISTA_TRANSAZIONI, URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL, URL_INSERT_CONTO, URL_LISTA_TRANSAZIONI_UTENTE, URL_LOGIN, URL_REGISTRAZIONE } from \"../utility/Endpoint\";\n\n/*async: Questa parola chiave viene utilizzata prima di una funzione per dichiararla come asincrona.\r\n Le funzioni asincrone possono contenere l'operatore await. Quando una funzione è dichiarata come asincrona, \r\n questa restituirà sempre una promessa implicitamente.\r\n\r\nawait: Questa parola chiave può essere utilizzata all'interno di una funzione asincrona per \"attendere\" il completamento di una promessa.\r\n Quando si utilizza await su una promessa, la funzione asincrona si \"blocca\" finché la promessa non viene risolta o rigettata. \r\n Questo consente di scrivere codice asincrono in uno stile più simile al codice sincrono.\r\n*/\n\nexport async function utenteLogin(utente, dispatch, setUtente, setPaginaCorrente, history) {\n  return await axios.post(URL_LOGIN, utente).then(response => {\n    console.log(response);\n    if (response.data) {\n      dispatch(setUtente(response.data));\n      if (response.data.ruolo.id === 2) {\n        const pagina = \"indexUtente\";\n        setPaginaCorrente(pagina);\n        history.push(INDEX_UTENTE);\n      } else {\n        setPaginaCorrente(\"indexAdmin\");\n        history.push(INDEX_ADMIN);\n      }\n    }\n  }).catch(error => {\n    if (error.response) {\n      setMessaggio(error.response.data);\n      setVisibile(true);\n    } else {\n      setMessaggio(\"Errore sconosciuto\");\n    }\n  });\n}\nexport async function insertConto(utente, setMessaggio, setVisibile, setVisibile2) {\n  return await axios.post(URL_INSERT_CONTO, utente).then(response => {\n    setMessaggio(\"La tua richiesta di apertura conto è stata presa in carico. Conto numero \" + response.data.data.numeroConto);\n    setVisibile2(true);\n  }).catch(error => {\n    setMessaggio(\"C'e stato un errore, contatta l'assistenza \" + error.response.data);\n    setVisibile(true);\n  });\n}\nexport async function registrazione(utente, dispatch, setUtente, setMessaggio, setVisibile, setVisibile2) {\n  return await axios.post(URL_REGISTRAZIONE, utente).then(response => {\n    if (response.data) {\n      dispatch(setUtente(response.data));\n      setMessaggio(\"Registrazione effettuata con successo, a breve riceverai una email di conferma attivazione. Stai per essere reindirizzato al menu principale\");\n      setVisibile2(true);\n    } else {\n      alert(\"Qualcosa è andato storto\");\n    }\n  }).catch(error => {\n    if (error.response) {\n      setVisibile(true);\n      setMessaggio(error.response.data);\n    } else {\n      setMessaggio(\"Errore sconosciuto\");\n    }\n  });\n}\nexport async function findContoUtente(utente, setVisibile, setMessaggio, setConto, dispatch) {\n  return await axios.post(ULR__FIND_CONTO_UTENTE, utente).then(response => {\n    if (response.data.success) {\n      dispatch(setConto(response.data.data));\n    } else {\n      dispatch(setConto(\"\"));\n    }\n  }).catch(error => {\n    if (error.response.data) {\n      setVisibile(true);\n      setMessaggio(error.response.data);\n    } else {\n      setVisibile(true);\n      setMessaggio(\"Errore sconosciuto\");\n    }\n  });\n}\nexport async function insertTransazione(transazione) {\n  return await axios.post(ULR_INSERT_TRANSAZIONE, transazione);\n}\nexport async function transazioniUtente(utente, setListaTransazioni) {\n  return await axios.post(URL_LISTA_TRANSAZIONI_UTENTE, utente).then(response => {\n    console.log(response.data.data);\n    setListaTransazioni(response.data.data);\n  });\n}\nexport async function downloadTransazioniExcel(utente) {\n  return await axios.post(URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL, utente);\n}\nexport async function downloadTransazioniWord(utente) {\n  return await axios.post(URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL, utente);\n}","map":{"version":3,"names":["axios","ULR_INSERT_TRANSAZIONE","ULR__FIND_CONTO_UTENTE","URL_DOWNLOAD_LISTA_TRANSAZIONI","URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL","URL_INSERT_CONTO","URL_LISTA_TRANSAZIONI_UTENTE","URL_LOGIN","URL_REGISTRAZIONE","utenteLogin","utente","dispatch","setUtente","setPaginaCorrente","history","post","then","response","console","log","data","ruolo","id","pagina","push","INDEX_UTENTE","INDEX_ADMIN","catch","error","setMessaggio","setVisibile","insertConto","setVisibile2","numeroConto","registrazione","alert","findContoUtente","setConto","success","insertTransazione","transazione","transazioniUtente","setListaTransazioni","downloadTransazioniExcel","downloadTransazioniWord"],"sources":["C:/Sviluppo/react/exobank/src/service/utenteService.js"],"sourcesContent":["import axios from \"axios\"\r\nimport {ULR_INSERT_TRANSAZIONE, ULR__FIND_CONTO_UTENTE, URL_DOWNLOAD_LISTA_TRANSAZIONI, URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL, URL_INSERT_CONTO, URL_LISTA_TRANSAZIONI_UTENTE, URL_LOGIN, URL_REGISTRAZIONE } from \"../utility/Endpoint\"\r\n\r\n/*async: Questa parola chiave viene utilizzata prima di una funzione per dichiararla come asincrona.\r\n Le funzioni asincrone possono contenere l'operatore await. Quando una funzione è dichiarata come asincrona, \r\n questa restituirà sempre una promessa implicitamente.\r\n\r\nawait: Questa parola chiave può essere utilizzata all'interno di una funzione asincrona per \"attendere\" il completamento di una promessa.\r\n Quando si utilizza await su una promessa, la funzione asincrona si \"blocca\" finché la promessa non viene risolta o rigettata. \r\n Questo consente di scrivere codice asincrono in uno stile più simile al codice sincrono.\r\n*/\r\n\r\n\r\nexport async function utenteLogin(utente,dispatch,setUtente,setPaginaCorrente,history){\r\n    return await axios.post(URL_LOGIN,utente).then((response) => {\r\n        console.log(response)\r\n        if (response.data) {\r\n          dispatch(setUtente(response.data))\r\n          if (response.data.ruolo.id === 2) {\r\n            const pagina = \"indexUtente\"\r\n            setPaginaCorrente(pagina)\r\n            history.push(INDEX_UTENTE)\r\n          } else { setPaginaCorrente(\"indexAdmin\")\r\n           history.push(INDEX_ADMIN)}\r\n\r\n        }\r\n      }).catch(error => {\r\n        if (error.response) {\r\n          setMessaggio(error.response.data)\r\n          setVisibile(true)\r\n        } else {\r\n          setMessaggio(\"Errore sconosciuto\");\r\n        }\r\n      })\r\n}\r\nexport async function insertConto(utente,setMessaggio,setVisibile,setVisibile2){\r\n    return await axios.post(URL_INSERT_CONTO,utente).then( (response) =>{\r\n        setMessaggio(\"La tua richiesta di apertura conto è stata presa in carico. Conto numero \" + response.data.data.numeroConto)\r\n        setVisibile2(true)\r\n    }).catch(error =>{\r\n        setMessaggio(\"C'e stato un errore, contatta l'assistenza \"+error.response.data)\r\n        setVisibile(true)\r\n      })\r\n}\r\nexport async function registrazione(utente,dispatch,setUtente,setMessaggio,setVisibile,setVisibile2){\r\n    return await axios.post(URL_REGISTRAZIONE,utente).then((response) => {\r\n        if (response.data) {\r\n          dispatch(setUtente(response.data));\r\n          setMessaggio(\"Registrazione effettuata con successo, a breve riceverai una email di conferma attivazione. Stai per essere reindirizzato al menu principale\");\r\n          setVisibile2(true);\r\n        } else {\r\n          alert(\"Qualcosa è andato storto\");\r\n        }\r\n      }).catch(error => {\r\n        if (error.response) {\r\n          setVisibile(true);\r\n          setMessaggio(error.response.data);\r\n        } else {\r\n          setMessaggio(\"Errore sconosciuto\");\r\n        }\r\n      });\r\n}\r\nexport async function findContoUtente(utente,setVisibile,setMessaggio,setConto,dispatch){\r\n    return await axios.post(ULR__FIND_CONTO_UTENTE,utente).then((response) => {\r\n        if (response.data.success) {\r\n            dispatch(setConto(response.data.data))\r\n        } else {\r\n            dispatch(setConto(\"\"))\r\n        }\r\n    }).catch(error => {\r\n        if (error.response.data) {\r\n            setVisibile(true)\r\n            setMessaggio(error.response.data)\r\n        } else {\r\n            setVisibile(true)\r\n            setMessaggio(\"Errore sconosciuto\");\r\n        }\r\n    })\r\n}\r\nexport async function insertTransazione(transazione){\r\n    return await axios.post(ULR_INSERT_TRANSAZIONE,transazione)\r\n}\r\nexport async function transazioniUtente(utente,setListaTransazioni){\r\n    return await axios.post(URL_LISTA_TRANSAZIONI_UTENTE,utente).then((response) => {\r\n        console.log(response.data.data)\r\n        setListaTransazioni(response.data.data)\r\n    })\r\n\r\n}\r\nexport async function downloadTransazioniExcel(utente){\r\n    return await axios.post(URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL,utente)\r\n}\r\nexport async function downloadTransazioniWord(utente){\r\n    return await axios.post(URL_DOWNLOAD_LISTA_TRANSAZIONI_EXCEL,utente)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}